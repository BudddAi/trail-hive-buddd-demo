---
import ModuleWrapper from '../utils/ModuleWrapper.astro';
import Heading from './molecules/Heading.astro';
import Button from './molecules/Button.astro';
import Card from './molecules/Card.astro';

interface HeadingComponent {
  text: string;
  tag?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';
  subheading?: string;
  preheading?: string;
}

interface ButtonComponent {
  text: string;
  url?: string;
  style?: 'solid-dark' | 'outline-dark' | 'ghost' | 'outline-light' | 'solid-light' | 'solid-green';
}

interface FeatureImageCard {
  image?: {
    url: string;
    alternativeText?: string;
  };
  title: string;
  description?: string;
}

interface CardsProps {
  preHeading?: string;
  heading?: HeadingComponent;
  button?: ButtonComponent;
  cards?: FeatureImageCard[];
  spacing?: any;
}

export interface Props extends CardsProps {}

const {
  preHeading,
  heading,
  button,
  cards = [],
  spacing
} = Astro.props;
---

<ModuleWrapper className="cards" spacing={spacing}>
  <div class="bg-color-37 rounded-radius-3">
    <div class="container py-16 lg:py-24">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-8 items-center">
        <div class="lg:col-span-4 flex flex-col gap-8 items-center text-center lg:items-start lg:text-left">
          <Heading 
            preheading={preHeading || heading?.preheading}
            heading={heading?.text}
            subheading={heading?.subheading}
            as={heading?.tag || 'h2'}
          />
          {button && button.text && (
            <Button 
              label={button.text}
              href={button.url || '#'}
              variant={button.style || 'solid-dark'}
            />
          )}
        </div>
        {cards && cards.length > 0 && (
          <div class="lg:col-span-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12">
            {cards.map((card) => (
              <Card 
                variant="vertical"
                imageSrc={card.image?.url}
                imageAlt={card.image?.alternativeText || card.title}
                title={card.title}
                description={card.description}
                linkHref="#"
              />
            ))}
          </div>
        )}
      </div>
    </div>
  </div>
</ModuleWrapper>